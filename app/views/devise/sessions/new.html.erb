<%= content_for(:title, t('.title')) %>

<div class="page-container">
  <div class="container py-5">
    <div class="row justify-content-center">
      <div class="col-md-10 col-lg-8">
        <div class="station-sign-bar mb-3"></div>

        <h2 class="text-center mb-5">
          <%= t('.title') %>
        </h2>

        <%= form_with(model: resource, as: resource_name, url: session_path(resource_name)) do |f| %>

          <!-- メールアドレス -->
          <div class="field mb-3">
            <strong>
              <%= f.label :email,class: "form-label" %><br>
            </strong>
            <%= f.email_field :email, autofocus: true, autocomplete: "email",  class: "form-control" %>
          </div>

          <!-- パスワード -->
          <div class="field mb-3">
            <strong>
              <%= f.label :password, class: "form-label" %><br>
            </strong>
            <%= f.password_field :password, autocomplete: "current-password", class: "mb-5 form-control" %>
          </div>

          <!-- ログインボタン -->
          <div class="d-grid mb-5">
            <%= f.submit t('helpers.submit.user_session.create'), class: "btn btn-primary btn-lg" %>
          </div>
        <% end %>

        <!-- 区切り線 -->
        <div class="position-relative mb-5">
          <hr>
          <span class="position-absolute top-50 start-50 translate-middle bg-white px-3 text-muted small">
            または
          </span>
        </div>

        <div class="row g-2 mb-4">
          <!-- Googleログイン -->
          <div class="col-6">
            <%= button_to user_google_oauth2_omniauth_authorize_path, method: :post, data: { turbo: false }, class: "btn btn-outline-danger w-100 d-flex align-items-center justify-content-center google-login-btn" do %>
              <i class="fab fa-google me-1"></i>
              <span class="d-none d-sm-inline">Google</span>
            <% end %>
          </div>

          <!-- ゲストログイン -->
          <div class="col-6">
            <%= button_to users_guest_sign_in_path, class: "btn btn-outline-secondary  w-100 d-flex align-items-center justify-content-center guest-login-btn d-block text-center" do %>
              <i class="fas fa-user-clock me-2"></i>
              ゲストログイン
            <% end %>
          </div>
        </div>

        <!-- 新規登録リンク -->
        <div class="text-center">
          <p class="text-muted mb-2">
            アカウントをお持ちでないですか?
            <%= link_to t('.create_user'), new_user_registration_path, class: "fw-bold" %>
          </p>
        </div>

        <!-- パスワード再設定用リンク -->
        <div class="text-center">
          <p class="text-muted mb-0">
            パスワードをお忘れですか?
            <%= link_to t('.reset_password'), new_user_password_path, class: "fw-bold" %>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
