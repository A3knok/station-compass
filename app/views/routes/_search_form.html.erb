<%= search_form_for @q, url: station_routes_path(@station) do |f| %>
  <!-- 改札検索 -->
  <div class="mb-3">
    <i class="fas fa-location-dot text-success me-1"></i>
    <strong>
      <%= f.label :gate_id_eq, Route.human_attribute_name(:gate_id), class: "form-label" %>
    </strong>
    
    <%= f.collection_select :gate_id_eq, @gates, :id, :name, 
                            { include_blank: 'すべて' },
                            { class: "form-select" } %>
  </div>
  
  <!-- 出口検索 -->
  <div class="mb-3">
    <i class="fas fa-flag-checkered text-danger me-1"></i>
    <strong>
      <%= f.label :exit_id_eq, Route.human_attribute_name(:exit_id), class: "form-label" %>
    </strong>
    
    <%= f.collection_select :exit_id_eq, @exits, :id, :display_name,
                            { include_blank: 'すべて'},
                            { class: "form-select" } %>
  </div>

  <!-- カテゴリー検索 -->
  <div class="mb-3">
    <i class="fas fa-flag-checkered text-danger me-1"></i>
    <strong>
      <%= f.label :category_id_in, Route.human_attribute_name(:category_id), class: "form-label" %>
    </strong>
    
    <%= f.collection_check_boxes :category_id_in, @categories, :id, :name %>
  </div>

  <!-- タグ検索 -->
  <div class="mb-3">
    <i class="fas fa-tags text-dark me-1"></i>
    <strong>
      <%= f.label :tags_name_in, Tag.human_attribute_name(:name), class: "form-label" %>
    </strong>
    
    <%= f.select :tags_name_in, 
                  @tags.map { |tag| [tag.name, tag.name] },
                  { include_blank: false },
                  { multiple: true,
                    class: "form-select",
                    data: { controller: "slim-select" }
                  } %>
  </div>

  <div class="d-grid">
    <%= f.submit t('defaults.search'), class: "btn btn-primary btn-lg" %>
  </div>
<% end %>