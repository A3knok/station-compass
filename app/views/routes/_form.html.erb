<%= form_with model: route do |f| %>
  <div class="mb-3">
    <%= label_tag :railway_company_id, t('routes.railway_company'), class: "form-label" %>
    <%= select_tag :ailway_company_id,
                    # <option>の生成
                    options_from_collection_for_select(
                      @railway_companies,
                      :id,
                      :name
                    ),
                    {
                      include_blank: '路線を選択',
                      class: "form-select",
                      # stimulusに値を渡す
                      data: {
                        gate_filter_target: "railwayCompany",
                        action: "change->gate-filter#filterGates"
                      }
                    } %>
  </div>

  <div class="mb-3">
    <%= f.label :gate_id, class: "form-label" %>
    <%= f.collection_select :gate_id, @gates, :id, :name, 
                            { include_blank: '出発地を選択'},
                            { class: "form-select",
                              data: { gate_filter_target: "gate" }
                            } %>
  </div>
  
  <div class="mb-3">
    <%= f.label :exit_id, class: "form-label" %>
    <%= f.collection_select :exit_id, @exits, :id, :name,
                            { include_blank: '目的地を選択'},
                            { class: "form-select" } %>
  </div>
  
  <div class="mb-3">
    <%= f.label :description, class: "form-label" %>
    <%= f.text_area :description, class: "form-control" %>
  </div>
  
  <div class="mb-3">
    <%= f.label :estimated_time, class: "form-label" %>
    <%= f.number_field :estimated_time, class: "form-control" %>
  </div>
  
  <div class="d-grid">
    <%= f.submit t('helpers.submit.route.search'), class: "btn btn-primary btn-lg" %>
  </div>
<% end %>