<%= form_with model: route do |f| %>
  <div class="mb-3 ps-3 form-group">
    <div>
      <strong class="d-block">駅名</strong>
      <span><%= station.name %></span>
    </div>
  </div>

  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= label_tag :railway_company_id, t('routes.railway_company'), class: "form-label " %>
    </strong>
    <i class="fa-solid fa-train text-secondary"></i>
    <%= select_tag :railway_company_id,
                    # <option>の生成
                    options_from_collection_for_select(
                      @railway_companies,
                      :id,
                      :name,
                      route.gate&.railway_company_id # 編集時は選択済みの状態にする
                    ),
                    {
                      include_blank: '路線を選択',
                      class: "form-select",
                      # stimulusに値を渡す
                      data: {
                        gate_filter_target: "railwayCompany",
                        action: "change->gate-filter#filterGates"
                      }
                    } %>
  </div>

  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= f.label :gate_id, class: "form-label" %>
    </strong>
    <i class="fas fa-location-dot text-success"></i>
    <span style="color: red;">*</span>
    <%= f.collection_select :gate_id, @gates, :id, :name, 
                            { include_blank: '出発地を選択'},
                            { class: "form-select",
                              data: { gate_filter_target: "gate" }
                            } %>
  </div>

  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= f.label :exit_id, class: "form-label" %>
    </strong>
    <i class="fas fa-flag-checkered text-danger"></i>
    <span style="color: red;">*</span>
    <%= f.collection_select :exit_id, @exits, :id, :display_name,
                            { include_blank: '目的地を選択'},
                            { class: "form-select" } %>
  </div>
  
  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= f.label :description, class: "form-label" %>
    </strong>
    <i class="fa-solid fa-map-location-dot text-warning"></i>
    <span style="color: red;">*</span>
    <%= f.text_area :description, class: "form-control" %>
  </div>
  
  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= f.label :estimated_time, class: "form-label" %>
    </strong>
    <i class="fas fa-history text-info"></i>
    <span style="color: red;">*</span>
    <%= f.number_field :estimated_time, class: "form-control" %>
  </div>

  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= f.label :category_id, class: "form-label" %>
    </strong>
    <i class="fa-solid fa-list text-info"></i>
    <%= f.collection_select :category_id, @categories, :id, :name,
                            { include_blank: 'カテゴリーを選択'},
                            { class: "form-select" } %>
  </div>

  <div class="mb-3 ps-3 form-group">
    <strong>
      <%= f.label :tag_names, class: "form-label" %>
    </strong>
    <i class="fa-solid fa-tags"></i>
    <%= f.text_field :tag_names, class: "form-control"%>
  </div>
  
  <div class="d-grid">
    <%= f.submit class: "btn btn-primary btn-lg" %>
  </div>
<% end %>